#execute if entity @s[tag=!hunters_spawned,nbt={HurtTime:10s}] at @s run playsound entity.wolf.howl ambient @a[distance=..64] ~ ~ ~ 1.0 1 1
#execute at @a run tp @s[tag=!hunters_spawned,distance=..64,nbt={HurtTime:10s}] ^ ^ ^-5
#execute at @a run spreadplayers ~ ~ 1 3 false @s[tag=!hunters_spawned,distance=..64,nbt={HurtTime:10s}]
#data merge entity @s[tag=!hunters_spawned,nbt={HurtTime:10s}] {NoAI:0b,Rotation:[-90.0f,30.0f],Silent:1b,Glowing:1b,DeathLootTable:"custom:mobs/hunters_ghost",PersistenceRequired:1b,Health:200f,Tags:["hunters_ghost","hunters","hunters_spawned"],Passengers:[{id:"minecraft:area_effect_cloud",CustomNameVisible:1b,Duration:2147483647,Tags:["hunter_name"],CustomName:'{"text":"Hunter\'s Ghost","color":"red","bold":true,"italic":false}'}],HandItems:[{id:"minecraft:stone_sword",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Knife","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:sharpness",lvl:3s},{id:"minecraft:knockback",lvl:2s}]}},{}],ArmorItems:[{},{id:"minecraft:leather_leggings",Count:1b,tag:{Enchantments:[{}]}},{},{id:"minecraft:leather_helmet",Count:1b,tag:{Enchantments:[{}]}}],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:32766}],Attributes:[{Name:generic.max_health,Base:200},{Name:generic.follow_range,Base:64.0}]}
execute as @s[type=skeleton,tag=hunters_ghost] store result score @s mobHealth run data get entity @s Health 1

execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=3.5..4,tag=!phase_change] {HandItems:[{id:"minecraft:stone_sword",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Knife","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:sharpness",lvl:3s},{id:"minecraft:knockback",lvl:2s}]}},{}],Attributes:[{Name:generic.movement_speed,Base:0.3}]}
execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=4..4.5,tag=!phase_change] {HandItems:[{id:"minecraft:bow",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Bow","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:power",lvl:3s}]}},{}],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:32766}],Attributes:[{Name:generic.movement_speed,Base:0.25}]}

tag @s[type=minecraft:skeleton,tag=hunters_ghost,tag=!phase_change,scores={mobHealth=..100}] add phase_change
execute at @a run scoreboard players add @s[type=skeleton,tag=hunters_ghost,tag=phase_change,distance=..16] mobscore 1

#execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=1.5..2,tag=phase_change] {HandItems:[{id:"minecraft:stone_sword",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Knife","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:sharpness",lvl:3s},{id:"minecraft:knockback",lvl:2s}]}},{}],Attributes:[{Name:generic.movement_speed,Base:0.4}]}
#execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=2..2.5,tag=phase_change] {HandItems:[{id:"minecraft:bow",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Bow","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:power",lvl:3s}]}},{}],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:32766}],Attributes:[{Name:generic.movement_speed,Base:0.25},{Name:generic.movement_speed,Base:0.25}]}

execute if entity @s[tag=phase_change,nbt={HurtTime:10s}] at @s run playsound entity.enderman.teleport ambient @a[distance=..16] ~ ~ ~ 1.0 2 1
execute if entity @s[tag=phase_change,scores={mobscore=100}] at @s run playsound entity.enderman.teleport ambient @a[distance=..16] ~ ~ ~ 1.0 2 1
execute at @a run spreadplayers ~ ~ 1 4 false @s[type=minecraft:skeleton,tag=hunters_ghost,distance=..16,tag=phase_change,nbt={HurtTime:10s}]
execute at @a run spreadplayers ~ ~ 1 4 false @s[type=minecraft:skeleton,tag=hunters_ghost,distance=..16,tag=phase_change,scores={mobscore=100}]
execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=..3,tag=phase_change,nbt={HurtTime:10s}] {HandItems:[{id:"minecraft:stone_sword",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Knife","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:sharpness",lvl:3s},{id:"minecraft:knockback",lvl:2s}]}},{}],Attributes:[{Name:generic.movement_speed,Base:0.4}]}
execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=3..,tag=phase_change,nbt={HurtTime:10s}] {HandItems:[{id:"minecraft:bow",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Bow","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:power",lvl:3s}]}},{}],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:32766}],Attributes:[{Name:generic.movement_speed,Base:0.25},{Name:generic.movement_speed,Base:0.5}]}

execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=..3,tag=phase_change,scores={mobscore=100}] {HandItems:[{id:"minecraft:stone_sword",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Knife","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:sharpness",lvl:3s},{id:"minecraft:knockback",lvl:2s}]}},{}],Attributes:[{Name:generic.movement_speed,Base:0.4}]}
execute at @a run data merge entity @s[type=minecraft:skeleton,tag=hunters_ghost,distance=3..,tag=phase_change,scores={mobscore=100}] {HandItems:[{id:"minecraft:bow",Count:1b,tag:{display:{Name:'{"text":"Hunter\'s Bow","color":"gold","italic":false}'},Enchantments:[{id:"minecraft:power",lvl:3s}]}},{}],ActiveEffects:[{Id:14b,Amplifier:0b,Duration:32766}],Attributes:[{Name:generic.movement_speed,Base:0.25},{Name:generic.movement_speed,Base:0.5}]}
execute at @s[tag=phase_change,scores={mobHealth=..12}] run particle minecraft:soul ~ ~1 ~ 0.3 0.5 0.3 0.01 1
execute at @s if block ~ ~-1 ~ minecraft:air run data merge entity @s[tag=phase_change,scores={mobHealth=..100}] {FallDistance:0.0f}

scoreboard players set @s[type=skeleton,tag=hunters_ghost,tag=phase_change,scores={mobscore=100}] mobscore 0
